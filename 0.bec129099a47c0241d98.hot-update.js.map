{"version":3,"sources":["webpack:///./src/components/AppTile.jsx"],"names":["fetchIcon","url","icon","reproduce","cozyClient","fetch","resp","ok","Error","statusText","blob","console","warn","message","mimeType","type","match","URL","createObjectURL","AppTile","props","app","t","client","context","displayName","name_prefix","name","links","related","Component"],"mappings":";;;;;;;;;;;;;;;AAAA;;;;AAEA;;AACA;;;;;;;;;;;;;;AAEA,IAAMA,YAAY,SAAZA,SAAY;AAAA;AAAA,uEAAc,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1BC,kBAD0B;AAE1BC,uBAF0B;AAAA;AAAA;AAAA,qBAITC,WAAWC,KAAX,CAAiB,KAAjB,EAAwBF,SAAxB,CAJS;;AAAA;AAItBG,kBAJsB;;AAAA,kBAKvBA,KAAKC,EALkB;AAAA;AAAA;AAAA;;AAAA,oBAMpB,IAAIC,KAAJ,gCAAuCF,KAAKG,UAA5C,UAA2DR,GAA3D,CANoB;;AAAA;AAAA;AAAA,qBAOfK,KAAKI,IAAL,EAPe;;AAAA;AAO5BR,kBAP4B;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAS5BS,sBAAQC,IAAR,CAAa,YAAMC,OAAnB;AAT4B;;AAAA;AAYxBC,sBAZwB,GAYbZ,KAAKa,IAZQ;;AAAA,oBAa1BD,YAAYA,SAASE,KAAT,CAAe,aAAf,CAbc;AAAA;AAAA;AAAA;;AAAA,+CAcrBC,IAAIC,eAAJ,CAAoBhB,IAApB,CAdqB;;AAAA;AAAA,oBAgBxB,IAAIM,KAAJ,eAAsBP,GAAtB,uBAhBwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAd;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAlB;;IAmBakB,O,WAAAA,O;;;;;;;;;;;6BACF;AAAA,mBACY,KAAKC,KADjB;AAAA,UACCC,GADD,UACCA,GADD;AAAA,UACMC,CADN,UACMA,CADN;AAAA,UAECC,MAFD,GAEY,KAAKC,OAFjB,CAECD,MAFD;;AAGP,UAAME,cAAcJ,IAAIK,WAAJ,GACbL,IAAIK,WADS,SACML,IAAIM,IADV,GAEhBN,IAAIM,IAFR;AAGA,aACE;AAAA;AAAA,UAAG,WAAU,cAAb,EAA4B,MAAMN,IAAIO,KAAJ,IAAaP,IAAIO,KAAJ,CAAUC,OAAzD;AACE;AAAA;AAAA,YAAQ,WAAU,aAAlB;AACE;AAAA;AAAA,cAAK,WAAU,WAAf;AACE,0CAAC,iBAAD;AACE,mBAAKP,EAAE,cAAF,EAAkB,EAAEK,MAAMF,WAAR,EAAlB,CADP;AAEE,mBAAKJ,GAFP;AAGE,yBAAWrB,UAAUuB,MAAV;AAHb;AADF;AADF,SADF;AAUE;AAAA;AAAA,YAAI,WAAU,YAAd;AAA4BE;AAA5B;AAVF,OADF;AAcD;;;;EArB0BK,gB;;kBAwBd,uBAAYX,OAAZ,C","file":"0.bec129099a47c0241d98.hot-update.js","sourcesContent":["import React, { Component } from 'react'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport AppIcon from 'cozy-ui/react/AppIcon'\n\nconst fetchIcon = cozyClient => async url => {\n  let icon\n  let reproduce\n  try {\n    const resp = await cozyClient.fetch('GET', reproduce)\n    if (!resp.ok)\n      throw new Error(`Error while fetching icon ${resp.statusText}: ${url}`)\n    icon = await resp.blob()\n  } catch (error) {\n    console.warn(error.message)\n    throw error\n  }\n  const mimeType = icon.type\n  if (mimeType && mimeType.match(/^image\\/.*$/)) {\n    return URL.createObjectURL(icon)\n  }\n  throw new Error(`App icon ${url} is not an image.`)\n}\n\nexport class AppTile extends Component {\n  render() {\n    const { app, t } = this.props\n    const { client } = this.context\n    const displayName = app.name_prefix\n      ? `${app.name_prefix} ${app.name}`\n      : app.name\n    return (\n      <a className=\"item-wrapper\" href={app.links && app.links.related}>\n        <header className=\"item-header\">\n          <div className=\"item-icon\">\n            <AppIcon\n              alt={t('app.logo.alt', { name: displayName })}\n              app={app}\n              fetchIcon={fetchIcon(client)}\n            />\n          </div>\n        </header>\n        <h3 className=\"item-title\">{displayName}</h3>\n      </a>\n    )\n  }\n}\n\nexport default translate()(AppTile)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AppTile.jsx"],"sourceRoot":""}