{"version":3,"sources":["webpack:///./src/assets/icons/icon-plus.svg","webpack:///./src/assets/images/icon-add-from-store.svg","webpack:///./src/assets/sprites ^\\.\\/icon\\-.*\\.svg$","webpack:///./src/components/AccountPicker.jsx","webpack:///./src/components/KonnectorTile.jsx","webpack:///./src/components/Services.jsx","webpack:///./src/components/StoreTile.jsx","webpack:///./src/containers/App.jsx","webpack:///./src/ducks/connections/index.js","webpack:///./src/locales/en.json","webpack:///./src/targets/browser/index.jsx"],"names":["AccountPicker","t","connections","history","konnector","match","konnectorSlug","params","length","slug","push","backIcon","styles","map","connection","addAccountIcon","mapStateToProps","state","ownProps","cozy","validCategoriesSet","Set","require","KonnectorTileFooter","error","userError","key","forbiddenIcon","KonnectorTile","firstError","firstUserError","route","categoriesSet","categories","has","c","reduce","acc","add","subtitle","join","name","konnectorIcon","props","BarCenter","Services","launchTutorial","window","pushState","location","hash","setTimeout","installedKonnectors","wrapper","breakpoints","isMobile","hasConnections","title","EmptyIcon","Component","StoreTile","redirecting","toggleRedirect","bind","setState","intents","redirect","type","console","label","App","context","store","accounts","konnectors","triggers","isFetching","find","includes","collection","fetchStatus","hasError","isReady","contentWrapper","div","IntentRedirect","StoreRedirection","ACCOUNT_DOCTYPE","TRIGGERS_DOCTYPE","JOBS_DOCTYPE","DEFAULT_QUEUE_DELAY","CREATE_CONNECTION","CONNECTION_DELETED","DELETE_CONNECTION","ENQUEUE_CONNECTION","LAUNCH_TRIGGER","PURGE_QUEUE","RECEIVE_DATA","RECEIVE_NEW_DOCUMENT","UPDATE_CONNECTION_RUNNING_STATUS","UPDATE_CONNECTION_ERROR","START_CONNECTION_CREATION","END_CONNECTION_CREATION","getTriggerKonnectorSlug","trigger","message","isKonnectorTrigger","doc","_type","isKonnectorJob","worker","reducer","action","_id","Error","konnectorReducer","response","data","newState","isTrigger","isJob","triggerId","trigger_id","account","currentStatus","current_state","status","last_error","isRunning","isConnected","Object","keys","creation","isAccount","triggersReducer","isDeleting","deleted","isEnqueued","createConnection","folder","enqueueConnection","purgeQueue","updateConnectionError","startConnectionCreation","endConnectionCreation","deleteConnection","dispatch","getState","getTriggerAccount","then","launchTriggerAndQueue","delay","options","isConnectionRunning","getConnectionsByKonnector","validAccounts","validKonnectors","konnectorIsValid","konnectorHasConnections","values","filter","getFirstError","firstTriggerHavingError","getFirstUserError","firstTriggerHavingUserError","getTriggerQueueStatus","getQueue","queuedConnections","concat","queuedTriggers","icon","getConnectionError","getTriggerState","getCreatedAccount","getTriggerIdByKonnectorAndAccount","getTriggerLastSuccess","lastJob","lastJobIsSuccess","started_at","last_success","isCreatingConnection","isConnectionConnected","isConnectionDeleting","isConnectionEnqueued","lang","document","documentElement","getAttribute","handleOAuthResponse","queryParams","URLSearchParams","search","get","opener","accountKey","targetOrigin","origin","protocol","hostname","port","postMessage","close","addEventListener","root","querySelector","dataset","client","CozyClient","cozyURL","cozyDomain","token","cozyToken","init","appEditor","cozyAppEditor","appName","cozyAppName","iconPath","cozyIconPath","cozyLocale","replaceTitleOnMobile","collectConfig","dictRequire","default"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qE;;;;;;;ACTA,wE;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6E;;;;;;;;;;;;;;;;;;ACjEA;;;;AACA;;;;AAEA;;;;AACA;;AACA;;AAEA;;AACA;;AAEA;;;;AACA;;;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAEO,IAAMA,wCAAgB,SAAhBA,aAAg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","file":"0.a3df936e9ff16f22b58e.hot-update.js","sourcesContent":["import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-plus\",\n  \"use\": \"icon-plus-usage\",\n  \"viewBox\": \"0 0 42 42\",\n  \"content\": \"<symbol viewBox=\\\"0 0 42 42\\\" id=\\\"icon-plus\\\">\\r\\n  <polygon points=\\\"42,19 23,19 23,0 19,0 19,19 0,19 0,23 19,23 19,42 23,42 23,23 42,23\\\" />\\r\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/icons/icon-plus.svg\n// module id = ./src/assets/icons/icon-plus.svg\n// module chunks = 0","module.exports = __webpack_public_path__ + \"/img/icon-add-from-store.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/icon-add-from-store.svg\n// module id = ./src/assets/images/icon-add-from-store.svg\n// module chunks = 0","var map = {\n\t\"./icon-activity.svg\": \"./src/assets/sprites/icon-activity.svg\",\n\t\"./icon-appointment.svg\": \"./src/assets/sprites/icon-appointment.svg\",\n\t\"./icon-arrow-left.svg\": \"./src/assets/sprites/icon-arrow-left.svg\",\n\t\"./icon-bankAccounts.svg\": \"./src/assets/sprites/icon-bankAccounts.svg\",\n\t\"./icon-bankTransactions.svg\": \"./src/assets/sprites/icon-bankTransactions.svg\",\n\t\"./icon-bill.svg\": \"./src/assets/sprites/icon-bill.svg\",\n\t\"./icon-bloodPressure.svg\": \"./src/assets/sprites/icon-bloodPressure.svg\",\n\t\"./icon-calendar.svg\": \"./src/assets/sprites/icon-calendar.svg\",\n\t\"./icon-call-log.svg\": \"./src/assets/sprites/icon-call-log.svg\",\n\t\"./icon-categories-active.svg\": \"./src/assets/sprites/icon-categories-active.svg\",\n\t\"./icon-categories.svg\": \"./src/assets/sprites/icon-categories.svg\",\n\t\"./icon-certificate.svg\": \"./src/assets/sprites/icon-certificate.svg\",\n\t\"./icon-check.svg\": \"./src/assets/sprites/icon-check.svg\",\n\t\"./icon-commit.svg\": \"./src/assets/sprites/icon-commit.svg\",\n\t\"./icon-consumption.svg\": \"./src/assets/sprites/icon-consumption.svg\",\n\t\"./icon-contact.svg\": \"./src/assets/sprites/icon-contact.svg\",\n\t\"./icon-contract.svg\": \"./src/assets/sprites/icon-contract.svg\",\n\t\"./icon-courseMaterial.svg\": \"./src/assets/sprites/icon-courseMaterial.svg\",\n\t\"./icon-dashboard.svg\": \"./src/assets/sprites/icon-dashboard.svg\",\n\t\"./icon-document.svg\": \"./src/assets/sprites/icon-document.svg\",\n\t\"./icon-event.svg\": \"./src/assets/sprites/icon-event.svg\",\n\t\"./icon-fallback.svg\": \"./src/assets/sprites/icon-fallback.svg\",\n\t\"./icon-family.svg\": \"./src/assets/sprites/icon-family.svg\",\n\t\"./icon-files-pen.svg\": \"./src/assets/sprites/icon-files-pen.svg\",\n\t\"./icon-forbidden.svg\": \"./src/assets/sprites/icon-forbidden.svg\",\n\t\"./icon-geolocation.svg\": \"./src/assets/sprites/icon-geolocation.svg\",\n\t\"./icon-geopoint.svg\": \"./src/assets/sprites/icon-geopoint.svg\",\n\t\"./icon-graduated.svg\": \"./src/assets/sprites/icon-graduated.svg\",\n\t\"./icon-heartbeat.svg\": \"./src/assets/sprites/icon-heartbeat.svg\",\n\t\"./icon-home.svg\": \"./src/assets/sprites/icon-home.svg\",\n\t\"./icon-money.svg\": \"./src/assets/sprites/icon-money.svg\",\n\t\"./icon-movies.svg\": \"./src/assets/sprites/icon-movies.svg\",\n\t\"./icon-new.svg\": \"./src/assets/sprites/icon-new.svg\",\n\t\"./icon-phonecommunicationlog.svg\": \"./src/assets/sprites/icon-phonecommunicationlog.svg\",\n\t\"./icon-pin-active.svg\": \"./src/assets/sprites/icon-pin-active.svg\",\n\t\"./icon-pin.svg\": \"./src/assets/sprites/icon-pin.svg\",\n\t\"./icon-podcast.svg\": \"./src/assets/sprites/icon-podcast.svg\",\n\t\"./icon-profile.svg\": \"./src/assets/sprites/icon-profile.svg\",\n\t\"./icon-refund.svg\": \"./src/assets/sprites/icon-refund.svg\",\n\t\"./icon-sinister.svg\": \"./src/assets/sprites/icon-sinister.svg\",\n\t\"./icon-sleepTime.svg\": \"./src/assets/sprites/icon-sleepTime.svg\",\n\t\"./icon-stepsNumber.svg\": \"./src/assets/sprites/icon-stepsNumber.svg\",\n\t\"./icon-temperature.svg\": \"./src/assets/sprites/icon-temperature.svg\",\n\t\"./icon-travelDate.svg\": \"./src/assets/sprites/icon-travelDate.svg\",\n\t\"./icon-tweet.svg\": \"./src/assets/sprites/icon-tweet.svg\",\n\t\"./icon-videostream.svg\": \"./src/assets/sprites/icon-videostream.svg\",\n\t\"./icon-warning.svg\": \"./src/assets/sprites/icon-warning.svg\",\n\t\"./icon-waves.svg\": \"./src/assets/sprites/icon-waves.svg\",\n\t\"./icon-weight.svg\": \"./src/assets/sprites/icon-weight.svg\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/assets/sprites recursive ^\\\\.\\\\/icon\\\\-.*\\\\.svg$\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/sprites ^\\.\\/icon\\-.*\\.svg$\n// module id = ./src/assets/sprites recursive ^\\.\\/icon\\-.*\\.svg$\n// module chunks = 0 1","import styles from '../styles/accountPicker'\nimport classNames from 'classnames'\n\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport { getConnectionsByKonnector } from '../reducers'\nimport { getKonnector } from '../ducks/konnectors'\n\nimport Icon from 'cozy-ui/react/Icon'\nimport Modal, { ModalHeader, ModalContent } from 'cozy-ui/react/Modal'\nimport { NavLink, Redirect, withRouter } from 'react-router-dom'\n\nimport AccountPickerItem from './AccountPickerItem'\nimport KonnectorHeaderIcon from './KonnectorHeaderIcon'\nimport addAccountIcon from '../assets/icons/icon-plus.svg'\n\nimport backIcon from '../assets/sprites/icon-arrow-left.svg'\n\nexport const AccountPicker = ({\n  t,\n  connections,\n  history,\n  konnector,\n  match\n}) => {\n  const { konnectorSlug } = match.params\n  if (!connections.length)\n    return <Redirect to={`/connected/${konnector.slug}/new`} />\n  return (\n    <Modal dismissAction={() => history.push('/connected')} mobileFullscreen>\n      <ModalHeader>\n        <div className=\"col-account-connection-header\">\n          <NavLink to=\"/connected\" className=\"col-account-connection-back\">\n            <Icon icon={backIcon} />\n          </NavLink>\n          <KonnectorHeaderIcon konnector={konnector} />\n        </div>\n      </ModalHeader>\n      <ModalContent>\n        <ul className={styles[classNames('col-account-picker')]}>\n          {connections.map(connection => (\n            <li>\n              <AccountPickerItem\n                konnectorSlug={konnectorSlug}\n                connection={connection}\n              />\n            </li>\n          ))}\n          <li>\n            <NavLink\n              to={`/connected/${konnectorSlug}/new`}\n              className={classNames(\n                styles['col-account-picker-button'],\n                styles['col-account-picker-button-add']\n              )}\n            >\n              <span>\n                <Icon icon={addAccountIcon} />\n                <span>{t('account_picker.add_account_button.label')}</span>\n              </span>\n            </NavLink>\n          </li>\n        </ul>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { konnectorSlug } = ownProps.match.params\n  return {\n    connections: getConnectionsByKonnector(state, konnectorSlug),\n    konnector: getKonnector(state.cozy, konnectorSlug)\n  }\n}\n\nexport default connect(mapStateToProps)(translate()(withRouter(AccountPicker)))\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AccountPicker.jsx","import React from 'react'\nimport { connect } from 'react-redux'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport Icon from 'cozy-ui/react/Icon'\nimport { NavLink, withRouter } from 'react-router-dom'\n\nimport { getKonnectorIcon } from '../lib/icons'\nimport { getErrorTitle } from '../lib/konnectors'\nimport { getFirstError, getFirstUserError } from '../ducks/connections'\n\nimport forbiddenIcon from '../assets/sprites/icon-forbidden.svg'\nimport konnectorIcon from '../assets/icons/icon-konnector.svg'\n\nconst validCategoriesSet = new Set(require('../config/categories'))\n\nconst KonnectorTileFooter = ({ error, userError, t }) => {\n  if (userError) {\n    return (\n      <span className=\"item-subtitle-user-error\">\n        <Icon icon=\"warning\" className=\"icon\" />\n        {getErrorTitle(t, userError, key => `connection.error.${key}.title`)}\n      </span>\n    )\n  }\n\n  if (error) {\n    return (\n      <span className=\"item-subtitle-error\">\n        <Icon icon={forbiddenIcon} className=\"icon\" />\n        {getErrorTitle(t, error, key => `connection.error.${key}.title`)}\n      </span>\n    )\n  }\n\n  return null\n}\n\nconst KonnectorTile = ({ firstError, firstUserError, konnector, route, t }) => {\n  const categoriesSet = konnector.categories\n    ? konnector.categories\n        .map(c => (validCategoriesSet.has(c) ? c : 'other'))\n        .reduce((acc, c) => acc.add(c), new Set())\n    : new Set()\n  const subtitle =\n    categoriesSet && [...categoriesSet].map(c => t(`category.${c}`)).join(', ')\n\n  return (\n    <NavLink className=\"item-wrapper\" to={route}>\n      <header className=\"item-header\">\n        <div className=\"item-layered-item-icon\">\n          <img\n            className=\"item-icon\"\n            alt={t('connector.logo.alt', { name: konnector.name })}\n            src={getKonnectorIcon(konnector)}\n          />\n          {konnectorIcon && (\n            <Icon icon={konnectorIcon} className=\"item-layer-icon\" />\n          )}\n        </div>\n      </header>\n      <h3 className=\"item-title\">{konnector.name}</h3>\n      <KonnectorTileFooter\n        error={firstError}\n        userError={firstUserError}\n        subtitle={subtitle}\n        t={t}\n      />\n    </NavLink>\n  )\n}\n\nconst mapStateToProps = (state, props) => {\n  const { konnector } = props\n  return {\n    firstError: getFirstError(state.connections, konnector.slug),\n    firstUserError: getFirstUserError(state.connections, konnector.slug)\n  }\n}\n\nexport default translate()(connect(mapStateToProps)(withRouter(KonnectorTile)))\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/KonnectorTile.jsx","/* global cozy */\nimport React, { Component } from 'react'\n\nimport EmptyIcon from '../assets/images/connected-accounts.svg'\nimport { connect } from 'react-redux'\nimport { Route, Switch, withRouter, Redirect, NavLink } from 'react-router-dom'\nimport { getInstalledKonnectors } from '../reducers'\nimport { translate } from 'cozy-ui/react/I18n'\nimport withBreakpoints from 'cozy-ui/react/helpers/withBreakpoints'\nimport { Main, Content } from 'cozy-ui/react/Layout'\nimport { isTutorial, display as displayTutorial } from '../lib/tutorial'\nimport sortBy from 'lodash/sortBy'\n\nimport ConnectionManagement from '../containers/ConnectionManagement'\nimport KonnectorTile from './KonnectorTile'\nimport ScrollToTopOnMount from './ScrollToTopOnMount'\nimport AccountPicker from './AccountPicker'\nimport StoreTile from './StoreTile'\n\nconst { BarCenter } = cozy.bar\n\nclass Services extends Component {\n  componentDidMount() {\n    this.launchTutorial()\n  }\n\n  componentWillReceiveProps() {\n    this.launchTutorial()\n  }\n\n  launchTutorial() {\n    if (isTutorial()) {\n      window.history.pushState({}, '', `/${window.location.hash}`)\n      setTimeout(() => {\n        displayTutorial(this.props.t)\n      }, 1000)\n    }\n  }\n\n  render() {\n    const { t, installedKonnectors, wrapper, breakpoints = {} } = this.props\n    const { isMobile } = breakpoints\n    const hasConnections = !!installedKonnectors.length\n    const title = <h2 className=\"col-view-title\">{t('nav.services')}</h2>\n\n    return (\n      <Main>\n        <ScrollToTopOnMount target={wrapper} />\n        <div className=\"col-content col-top-bar\" data-tutorial=\"top-bar\">\n          {isMobile ? <BarCenter>{title}</BarCenter> : title}\n        </div>\n        <Content className=\"col-content\">\n          {hasConnections ? (\n            <div className=\"connector-list\">\n              {installedKonnectors.map(konnector => (\n                <KonnectorTile\n                  konnector={konnector}\n                  route={`connected/${konnector.slug}`}\n                />\n              ))}\n              <StoreTile label={t('add_service')} />\n            </div>\n          ) : (\n            <div className=\"col-picture-for-emtpy-list\">\n              <img\n                data-tutorial=\"empty-view\"\n                src={EmptyIcon}\n                className=\"col-picture-for-emtpy-list--img\"\n                alt={t('connector.empty')}\n              />\n              <div>\n                <h2>{t('connector.no-connectors-connected')}</h2>\n                <p>{t('connector.get-info')}</p>\n                <NavLink to=\"/providers/all\" className=\"col-button\">\n                  <span>{t('connector.connect-account')}</span>\n                </NavLink>\n              </div>\n            </div>\n          )}\n        </Content>\n        <Switch>\n          <Route\n            exact\n            path=\"/connected/:konnectorSlug\"\n            component={AccountPicker}\n          />\n          <Route\n            path=\"/connected/:konnectorSlug/new\"\n            render={props => (\n              <ConnectionManagement originPath=\"/connected\" {...props} />\n            )}\n          />\n          <Route\n            path=\"/connected/:konnectorSlug/accounts/:accountId\"\n            render={props => (\n              <ConnectionManagement originPath=\"/connected\" {...props} />\n            )}\n          />\n          <Redirect from=\"/connected/*\" to=\"/connected\" />\n        </Switch>\n      </Main>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    installedKonnectors: sortBy(\n      getInstalledKonnectors(state),\n      konnector => konnector.name\n    )\n  }\n}\n\nexport default withRouter(\n  connect(mapStateToProps)(translate()(withBreakpoints()(Services)))\n)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Services.jsx","/* global cozy */\nimport React, { Component } from 'react'\nimport { Button } from 'cozy-ui/react/Button'\n\nexport class StoreTile extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      redirecting: false\n    }\n\n    this.toggleRedirect = this.toggleRedirect.bind(this)\n  }\n\n  async toggleRedirect() {\n    if (this.state.redirecting) return // don't toggle twice\n    this.setState(() => ({ redirecting: true }))\n    try {\n      await cozy.client.intents.redirect('io.cozy.apps', { type: 'konnector' })\n    } catch (error) {\n      console.error(error)\n      this.setState({\n        redirecting: false\n      })\n    }\n  }\n\n  render() {\n    const { label } = this.props\n    const { redirecting } = this.state\n    return (\n      <div className=\"item-wrapper --add-service\" onClick={this.toggleRedirect}>\n        <header className=\"item-header\">\n          <img\n            className=\"item-icon\"\n            src={require('../assets/images/icon-add-from-store.svg')}\n          />\n        </header>\n        <Button\n          busy={redirecting}\n          disabled={redirecting}\n          className=\"item-add-service-button\"\n          subtle\n        >\n          {label}\n        </Button>\n      </div>\n    )\n  }\n}\n\nexport default StoreTile\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StoreTile.jsx","import React, { Component } from 'react'\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\n\nimport appEntryPoint from '../components/appEntryPoint'\n\nimport Notifier from '../components/Notifier'\n\nimport Loading from '../components/Loading'\nimport Failure from '../components/Failure'\nimport ConnectionsQueue from '../ducks/connections/components/queue/index'\n\nimport InstalledKonnectors from '../components/Services'\nimport IntentRedirect from '../components/IntentRedirect'\nimport StoreRedirection from '../components/StoreRedirection'\n\nimport { Layout, Main, Content } from 'cozy-ui/react/Layout'\n\nclass App extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.store = this.context.store\n  }\n\n  render() {\n    const { accounts, konnectors, triggers } = this.props\n    const isFetching = [accounts, konnectors, triggers].find(collection =>\n      ['pending', 'loading'].includes(collection.fetchStatus)\n    )\n\n    const hasError = [accounts, konnectors, triggers].find(\n      collection => collection.fetchStatus === 'failed'\n    )\n\n    const isReady = !hasError && !isFetching\n\n    return (\n      <Layout\n        monoColumn\n        ref={\n          isReady &&\n          (div => {\n            this.contentWrapper = div\n          })\n        }\n      >\n        <div className=\"ho-background\" />\n        {hasError ||\n          (isFetching && (\n            <Main>\n              <Content\n                className={\n                  hasError ? 'col-initial-error' : 'col-initial-loading'\n                }\n              >\n                {hasError && <Failure errorType=\"initial\" />}\n                {isFetching && <Loading loadingType=\"initial\" />}\n              </Content>\n            </Main>\n          ))}\n        {isReady && (\n          <Switch>\n            <Route path=\"/redirect\" component={IntentRedirect} />\n            <Route\n              path=\"/connected\"\n              render={props => (\n                <InstalledKonnectors\n                  base=\"/connected\"\n                  wrapper={this.contentWrapper}\n                />\n              )}\n            />\n            <Route exact path=\"/providers\" component={StoreRedirection} />\n            <Route path=\"/providers/:category\" component={StoreRedirection} />\n            <Redirect exact from=\"/\" to=\"/connected\" />\n            <Redirect from=\"*\" to=\"/connected\" />\n          </Switch>\n        )}\n        <Notifier />\n        <ConnectionsQueue />\n      </Layout>\n    )\n  }\n}\n\n/*\nwithRouter is necessary here to deal with redux\nhttps://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/blocked-updates.md\n*/\nexport default withRouter(appEntryPoint(App))\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/App.jsx","import { combineReducers } from 'redux'\n\nimport { getKonnectorIcon } from '../../lib/icons'\nimport { buildKonnectorError, isKonnectorUserError } from '../../lib/konnectors'\n\nimport { getTriggerLastJob } from '../jobs'\n\nimport { deleteTrigger, launchTrigger } from '../triggers'\nimport { deleteAccount, getAccount } from '../accounts'\n\n// constant\nconst ACCOUNT_DOCTYPE = 'io.cozy.accounts'\nconst TRIGGERS_DOCTYPE = 'io.cozy.triggers'\nconst JOBS_DOCTYPE = 'io.cozy.jobs'\n\n// Delay until the konnector is queued. It is used to compensate the fact that\n// we cannot determine when a login is OK for the konnector.\nexport const DEFAULT_QUEUE_DELAY = 7000\n\nexport const CREATE_CONNECTION = 'CREATE_CONNECTION'\nexport const CONNECTION_DELETED = 'CONNECTION_DELETED'\nexport const DELETE_CONNECTION = 'DELETE_CONNECTION'\nexport const ENQUEUE_CONNECTION = 'ENQUEUE_CONNECTION'\nexport const LAUNCH_TRIGGER = 'LAUNCH_TRIGGER'\nexport const PURGE_QUEUE = 'PURGE_QUEUE'\nexport const RECEIVE_DATA = 'RECEIVE_DATA'\nexport const RECEIVE_NEW_DOCUMENT = 'RECEIVE_NEW_DOCUMENT'\nexport const UPDATE_CONNECTION_RUNNING_STATUS =\n  'UPDATE_CONNECTION_RUNNING_STATUS'\nexport const UPDATE_CONNECTION_ERROR = 'UPDATE_CONNECTION_ERROR'\nexport const START_CONNECTION_CREATION = 'START_CONNECTION_CREATION'\nexport const END_CONNECTION_CREATION = 'END_CONNECTION_CREATION'\n\n// Helpers\nconst getTriggerKonnectorSlug = trigger =>\n  (trigger && trigger.message && trigger.message.konnector) || null\n\nconst isKonnectorTrigger = doc =>\n  doc._type === TRIGGERS_DOCTYPE && !!doc.message && !!doc.message.konnector\n\nconst isKonnectorJob = doc =>\n  doc._type === JOBS_DOCTYPE && doc.worker === 'konnector'\n\n// reducers\nconst reducer = (state = {}, action) => {\n  switch (action.type) {\n    case CONNECTION_DELETED:\n    case DELETE_CONNECTION:\n      if (!action.trigger || !action.trigger._id)\n        throw new Error('Missing trigger id')\n      if (!action.trigger.message || !action.trigger.message.konnector)\n        throw new Error('Malformed trigger message')\n      return {\n        ...state,\n        [getTriggerKonnectorSlug(action.trigger)]: konnectorReducer(\n          state[getTriggerKonnectorSlug(action.trigger)],\n          action\n        )\n      }\n    case CREATE_CONNECTION:\n    case ENQUEUE_CONNECTION:\n    case UPDATE_CONNECTION_ERROR:\n    case UPDATE_CONNECTION_RUNNING_STATUS:\n    case LAUNCH_TRIGGER:\n      // Trigger is launched, connection should be running.\n      if (!action.trigger || !action.trigger._id)\n        throw new Error('Missing trigger id')\n      if (!action.trigger.message || !action.trigger.message.konnector)\n        throw new Error('Malformed trigger message')\n      return {\n        ...state,\n        [getTriggerKonnectorSlug(action.trigger)]: konnectorReducer(\n          state[getTriggerKonnectorSlug(action.trigger)],\n          action\n        )\n      }\n\n    case RECEIVE_DATA:\n    case RECEIVE_NEW_DOCUMENT:\n      if (\n        !action.response ||\n        !action.response.data ||\n        !action.response.data.length\n      ) {\n        return state\n      }\n\n      return action.response.data.reduce((newState, doc) => {\n        const isTrigger = isKonnectorTrigger(doc)\n        const isJob = isKonnectorJob(doc)\n        // Ignore non triggers or non jobs\n        if (!isTrigger && !isJob) return newState\n        const konnectorSlug = doc.message.konnector\n        const triggerId = (isTrigger && doc._id) || (isJob && doc.trigger_id)\n        if (!triggerId) return newState\n\n        const account = isTrigger && !!doc.message && doc.message.account\n\n        const currentStatus =\n          (isTrigger && (doc.current_state && doc.current_state.status)) ||\n          (isJob && doc.state)\n        if (!currentStatus) return newState\n\n        const error =\n          (isTrigger &&\n            !!doc.current_state &&\n            doc.current_state.status !== 'done' &&\n            !!doc.current_state.last_error &&\n            buildKonnectorError(doc.current_state.last_error)) ||\n          (isJob && !!doc.error && buildKonnectorError(doc.error)) ||\n          null\n\n        return {\n          ...newState,\n          [konnectorSlug]: {\n            triggers: {\n              ...((newState[konnectorSlug] &&\n                newState[konnectorSlug].triggers) ||\n                {}),\n              [triggerId]: {\n                ...((newState[konnectorSlug] &&\n                  newState[konnectorSlug].triggers &&\n                  newState[konnectorSlug].triggers[triggerId]) ||\n                  {}),\n                account:\n                  account ||\n                  (newState[konnectorSlug] &&\n                    newState[konnectorSlug].triggers &&\n                    newState[konnectorSlug].triggers[triggerId] &&\n                    newState[konnectorSlug].triggers[triggerId].account),\n                error,\n                hasError: !!error || currentStatus === 'errored',\n                isRunning: ['queued', 'running'].includes(currentStatus),\n                isConnected: !error && currentStatus === 'done'\n              }\n            }\n          }\n        }\n      }, state)\n\n    case PURGE_QUEUE:\n      return Object.keys(state).reduce((konnectors, slug) => {\n        return {\n          ...konnectors,\n          [slug]: konnectorReducer(state[slug], action)\n        }\n      }, state)\n\n    default:\n      return state\n  }\n}\n\nconst creation = (state = null, action) => {\n  switch (action.type) {\n    case RECEIVE_DATA:\n    case RECEIVE_NEW_DOCUMENT:\n      if (!state) return null\n      if (\n        !action.response ||\n        !action.response.data ||\n        action.response.data.length !== 1\n      ) {\n        return state\n      }\n\n      const doc = action.response.data[0]\n      const isAccount = doc._type === ACCOUNT_DOCTYPE\n\n      if (isAccount)\n        return {\n          ...state,\n          account: doc._id\n        }\n\n      const isTrigger = isKonnectorTrigger(doc)\n      if (isTrigger)\n        return {\n          ...state,\n          trigger: doc._id\n        }\n\n      return state\n\n    case START_CONNECTION_CREATION:\n      // Store all data related to the creation of a new connection in then\n      // property `creation`\n      // While a new connection is being configured, new trigger and account\n      // are store here\n      return {}\n    case END_CONNECTION_CREATION:\n      return null\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  creation,\n  konnectors: reducer\n})\n\n// sub(?) reducers\nconst konnectorReducer = (state = {}, action) => {\n  switch (action.type) {\n    case CONNECTION_DELETED:\n    case DELETE_CONNECTION:\n    case ENQUEUE_CONNECTION:\n    case LAUNCH_TRIGGER:\n    case RECEIVE_DATA:\n    case RECEIVE_NEW_DOCUMENT:\n    case PURGE_QUEUE:\n      // We assume that document being a trigger has already been validated.\n      return {\n        ...state,\n        triggers: triggersReducer(state.triggers, action)\n      }\n    default:\n      return state\n  }\n}\n\nconst triggersReducer = (state = {}, action) => {\n  switch (action.type) {\n    case DELETE_CONNECTION:\n      return {\n        ...state,\n        [action.trigger._id]: {\n          ...state[action.trigger._id],\n          isDeleting: true\n        }\n      }\n    case CONNECTION_DELETED:\n      return (({ [action.trigger._id]: deleted, ...state }) => state)(state)\n    case ENQUEUE_CONNECTION:\n      return {\n        ...state,\n        [action.trigger._id]: {\n          ...state[action.trigger._id],\n          isEnqueued: true\n        }\n      }\n    case LAUNCH_TRIGGER:\n      return {\n        ...state,\n        [action.trigger._id]: {\n          ...state[action.trigger._id],\n          account: action.trigger.message.account,\n          isRunning: true\n        }\n      }\n    case PURGE_QUEUE:\n      return state\n        ? Object.keys(state).reduce((newState, triggerId) => {\n            return {\n              ...newState,\n              [triggerId]: {\n                ...newState[triggerId],\n                isEnqueued: false\n              }\n            }\n          }, state)\n        : state\n    default:\n      return state\n  }\n}\n\n// action creators sync\nexport const createConnection = (konnector, account, folder) => ({\n  type: CREATE_CONNECTION,\n  konnector,\n  account,\n  folder\n})\n\nexport const enqueueConnection = trigger => ({\n  type: ENQUEUE_CONNECTION,\n  trigger\n})\n\nexport const purgeQueue = () => ({\n  type: PURGE_QUEUE\n})\n\nexport const updateConnectionError = (konnector, account, error) => ({\n  type: UPDATE_CONNECTION_ERROR,\n  konnector,\n  account,\n  error\n})\n\nexport const startConnectionCreation = konnector => ({\n  type: START_CONNECTION_CREATION,\n  konnector\n})\n\nexport const endConnectionCreation = () => ({\n  type: END_CONNECTION_CREATION\n})\n\n// action creators async\nexport const deleteConnection = trigger => {\n  return (dispatch, getState) => {\n    dispatch({\n      type: DELETE_CONNECTION,\n      trigger: trigger\n    })\n    const account = getTriggerAccount(getState(), trigger)\n    return dispatch(deleteAccount(account))\n      .then(() => {\n        dispatch(deleteTrigger(trigger))\n      })\n      .then(() =>\n        dispatch({\n          type: CONNECTION_DELETED,\n          trigger: trigger\n        })\n      )\n  }\n}\n\nexport const launchTriggerAndQueue = (trigger, delay = DEFAULT_QUEUE_DELAY) => (\n  dispatch,\n  getState,\n  options\n) => {\n  setTimeout(() => {\n    if (isConnectionRunning(getState().connections, trigger)) {\n      dispatch(enqueueConnection(trigger))\n    }\n  }, delay)\n\n  return dispatch(launchTrigger(trigger))\n}\n\n// selectors\nexport const getConnectionsByKonnector = (\n  state,\n  konnectorSlug,\n  validAccounts = [],\n  validKonnectors = []\n) => {\n  const konnectorIsValid =\n    !validKonnectors.length || validKonnectors.includes(konnectorSlug)\n  const konnectorHasConnections =\n    state.konnectors[konnectorSlug] &&\n    Object.keys(state.konnectors[konnectorSlug].triggers).length\n  if (!konnectorIsValid || !konnectorHasConnections) return []\n\n  return Object.values(state.konnectors[konnectorSlug].triggers).filter(\n    trigger => validAccounts.includes(trigger.account)\n  )\n}\n\nexport const getFirstError = (state, konnectorSlug) => {\n  const firstTriggerHavingError =\n    !!state.konnectors &&\n    !!state.konnectors[konnectorSlug] &&\n    !!state.konnectors[konnectorSlug].triggers &&\n    Object.values(state.konnectors[konnectorSlug].triggers).find(\n      trigger => !!trigger.error\n    )\n  return !!firstTriggerHavingError && firstTriggerHavingError.error\n}\n\nexport const getFirstUserError = (state, konnectorSlug) => {\n  const firstTriggerHavingUserError =\n    !!state.konnectors &&\n    !!state.konnectors[konnectorSlug] &&\n    !!state.konnectors[konnectorSlug].triggers &&\n    Object.values(state.konnectors[konnectorSlug].triggers).find(trigger =>\n      isKonnectorUserError(trigger.error)\n    )\n  return firstTriggerHavingUserError && firstTriggerHavingUserError.error\n}\n\n// Map the trigger status to a status compatible with queue\nconst getTriggerQueueStatus = trigger => {\n  if (trigger.isRunning) return 'ongoing'\n  if (trigger.hasError) return 'error'\n  if (trigger.isConnected) return 'done'\n  return 'pending'\n}\n\nexport const getQueue = (state, konnectors) =>\n  // state is state.connections\n  state.konnectors\n    ? Object.keys(state.konnectors).reduce(\n        (queuedConnections, konnectorSlug) => {\n          const triggers = state.konnectors[konnectorSlug].triggers\n          if (!triggers) return queuedConnections\n          const konnector = konnectors[konnectorSlug]\n          return queuedConnections.concat(\n            Object.keys(triggers).reduce((queuedTriggers, triggerId) => {\n              if (triggers[triggerId].isEnqueued) {\n                const label = konnector.name\n                const status = getTriggerQueueStatus(triggers[triggerId])\n                const icon = getKonnectorIcon(konnector)\n                return queuedTriggers.concat({ label, status, icon })\n              }\n\n              return queuedTriggers\n            }, [])\n          )\n        },\n        []\n      )\n    : []\n\nexport const getConnectionError = (state, trigger) =>\n  getTriggerState(state, trigger).error\n\nexport const getCreatedAccount = state =>\n  !!state.creation && state.creation.account\n\nexport const getTriggerAccount = (state, trigger) => {\n  return getAccount(state.cozy, trigger.message.account)\n}\n\nexport const getTriggerIdByKonnectorAndAccount = (\n  state,\n  konnector,\n  account,\n  validAccounts = []\n) =>\n  !!konnector &&\n  !!account &&\n  validAccounts.includes(account._id) &&\n  !!state.konnectors[konnector.slug] &&\n  Object.keys(state.konnectors[konnector.slug].triggers).find(\n    triggerId =>\n      state.konnectors[konnector.slug].triggers[triggerId].account ===\n      account._id\n  )\n\nexport const getTriggerLastSuccess = (state, trigger) => {\n  const lastJob = getTriggerLastJob(state, trigger)\n  const lastJobIsSuccess = lastJob && lastJob.state === 'done'\n  if (lastJobIsSuccess) return lastJob.started_at\n  return (\n    !!trigger && !!trigger.current_state && trigger.current_state.last_success\n  )\n}\n\n// get trigger from state, in state.konnectors[konnectorSlug].triggers[triggerId]\nconst getTriggerState = (state, trigger) => {\n  const konnectorSlug = getTriggerKonnectorSlug(trigger)\n  if (!konnectorSlug || !state.konnectors || !state.konnectors[konnectorSlug])\n    return false\n  const triggers = state.konnectors[konnectorSlug].triggers\n  if (!triggers) return false\n  return (!!triggers && !!triggers[trigger._id] && triggers[trigger._id]) || {}\n}\n\nexport const isCreatingConnection = state => !!state.creation\n\nexport const isConnectionConnected = (state, trigger) =>\n  getTriggerState(state, trigger).isConnected\n\nexport const isConnectionDeleting = (state, trigger) =>\n  getTriggerState(state, trigger).isDeleting\n\nexport const isConnectionEnqueued = (state, trigger) =>\n  getTriggerState(state, trigger).isEnqueued\n\nexport const isConnectionRunning = (state, trigger) =>\n  getTriggerState(state, trigger).isRunning\n\n\n\n// WEBPACK FOOTER //\n// ./src/ducks/connections/index.js","module.exports = {\"manifest\":{\"name\":\"Collect\",\"short_description\":\"Cozy Collect is the application that help you gather all your personal data inside Cozy.\",\"long_description\":\"With Cozy Collect, you can easily:\\n * Downloads documents from all your suppliers\\n * Set how often Cozy will collect your bills\\n * Access directly to the documents gathered by your Cozy\",\"changes\":\"You haven't missed it, the Store arrived in your Cozy!\\nWe took advantage of it to improve Collect:\\n * Store adaptation.\\n * Tile merge: when you have several accounts for a single supplier, the former are now merged under the supplier tile.\\n * Improvement of some Connectors pages.\"},\"add_service\":\"Add a service\",\"account\":{\"config\":{\"default_folder\":\"/Administrative/%{name}\",\"optional\":\"(Optional)\",\"title\":\"Connect your %{name} account\",\"data\":{\"title\":\"Collected data:\",\"service\":{\"description\":\"Service description:\"}},\"tabs\":{\"sync\":\"synchronization\",\"account\":\"account\",\"data\":\"collected data\"}},\"disconnect\":{\"title\":\"Disconnection\",\"description\":\"Your will be disconnected from this account, but imported data will be kept\"},\"form\":{\"title\":\"Account\",\"label\":{\"firstname\":\"Firstname\",\"lastname\":\"Lastname\",\"login\":\"Login\",\"consumerKey\":\"Consumer Key\",\"consumerSecret\":\"Consumer Secret\",\"appKey\":\"Application Key\",\"appSecret\":\"Application Secret\",\"tricountUrl\":\"Tricount URL\",\"cardNumber\":\"Card Number\",\"dob\":\"Date of birth\",\"password\":\"Password\",\"email\":\"Email\",\"bank_identifier\":\"Bank identifier (optional)\",\"profileName\":\"Profile Name\",\"identifier\":\"Identifier\",\"new_identifier\":\"Identifier\",\"secret\":\"Password\",\"answer\":\"Secret Answer\",\"access_token\":\"Access token\",\"accessTokenSecret\":\"Access token secret\",\"apikey\":\"Api key\",\"phoneNumber\":\"Phone number\",\"folderPath\":\"Folder path\",\"namePath\":\"Folder name\",\"authCode\":\"Auth code\",\"accountName\":\"Account name\",\"loginUrl\":\"Login URL\",\"token\":\"Token\",\"agreement\":\"I agree\",\"refreshToken\":\"Refresh Token\",\"timeout\":\"Delay (ms)\",\"branchName\":\"Branch\",\"code\":\"Confidential code\"},\"placeholder\":{\"password\":\"The password you use to connect to the service\",\"update_password\":\"Update the password\",\"accountName\":\"Example: Personal account\",\"namePath\":\"Example: Camille bills. Default name path is your login.\"},\"button\":{\"connect\":\"Connect\",\"cancel\":\"Cancel\",\"save\":\"Save\",\"disconnect\":\"Disconnect this account\",\"delete\":\"Delete this account\",\"advanced\":\"Advanced options\",\"synchronize\":\"Synchronize now\"}},\"folder\":{\"title\":\"Related folder settings\",\"link\":\"Open the folder in Cozy Drive\",\"changePath\":\"change the path\",\"error\":\"Oops, something went wrong. Don't panic, your files are still there, please try again later\",\"close\":\"close\",\"warning\":\"You're changing your folder path\",\"oldFiles\":\"All your olds bills will be moved in your new path.\",\"newFiles\":\"Your news bills will be downloaded in your new path.\",\"newPath\":\"Everything went well, the new path for your %{name} account is:\"},\"success\":{\"title\":{\"connect\":\"Successful configuration!\",\"update\":\"Your %{name} account is updated!\"},\"banksLinkText\":\"See my accounts into Cozy Banks\",\"driveLinkText\":\"Open the folder into Cozy Drive\",\"button\":\"Close\"},\"message\":{\"folder\":{\"title\":\"Folder\",\"link\":\"Open folder on cozy drive\"},\"success\":{\"connect\":\"Your data will be available in your Cozy in a few minutes and the next ones will follow automatically.\",\"update\":\"Your %{name} account has been updated successfully.\",\"delete\":\"Account removed succesfully.\"},\"syncing\":{\"bill\":\"Your bills are syncing and will be available in the following path:\"},\"synced\":{\"title\":\"Your data synchronization\",\"cron\":\"Synchronization frequency: %{frequency}\",\"cron_hourly\":\"each hour\",\"cron_daily\":\"once a day\",\"cron_weekly\":\"once a week\",\"cron_monthly\":\"once a month\",\"cron_undefined\":\"manually\",\"syncing\":\"running\",\"unknown\":\"unknown\",\"last_sync\":\"Last synchronization: **%{date}**\",\"date_format\":\"MMMM D[,] YYYY [at] HH[:]mm\",\"bill\":\"Find your datas in the Drive app at this location:\"},\"error\":{\"server\":\"Apologies, our server had an hiccup, do you mind starting again?\",\"bad_credentials\":\"Sorry, you entered an incorrect login or password.\",\"delete\":\"Apologies, our server had an hiccup, do you mind starting again?\"}},\"forceConnection\":\"Synchronize now\",\"editor_detail\":\"Service developed by %{editor}\"},\"account_picker\":{\"add_account_button\":{\"label\":\"Add an account\"}},\"connection\":{\"error\":{\"default\":{\"title\":\"An error occured\",\"description\":\"Unfortunately, something went wrong when trying to connect to %{name}. Please check again your account informations or visit our online help.\"},\"DISK_QUOTA_EXCEEDED\":{\"title\":\"Cozy Storage full\",\"description\":\"This service cannot fetch your documents now. Please remove some files or go to **Settings > Storage** to get more free space.\"},\"CHALLENGE_ASKED\":{\"title\":\"Challenge required\",\"description\":\"It seems that the website requires a second authentification factor that we dont support yet. You may try to settle the issue on the [%{name}](%{link}) website before a retry.\"},\"LOGIN_FAILED\":{\"title\":\"Bad credentials\",\"description\":\"Bad credentials. Check the konnector fields and run the connection again.\"},\"LOGIN_FAILED.NEEDS_SECRET\":{\"title\":\"Needs secret\",\"description\":\"An additional field must be filled in before checking your credentials.\"},\"LOGIN_FAILED.TOO_MANY_ATTEMPTS\":{\"title\":\"Temporarily blocked\",\"description\":\"Too many attempts occured. Please update your credentials on [%{name}](%{link}) website and update the konnector later on.\"},\"MAINTENANCE\":{\"title\":\"Unavailable website\",\"description\":\"It seems that the [%{name}](%{link}) website is unavailable or the konnector must be updated. Please rerun the connector later or visit our online help.\"},\"NOT_EXISTING_DIRECTORY\":{\"title\":\"Missing destination folder\",\"description\":\"It seems that this account's destination folder has been deleted. Please restore it by disconnecting this account and then reconnect again.\"},\"UNKNOWN_ERROR\":{\"title\":\"Connection error\",\"description\":\"An unknown error has occurred.\"},\"USER_ACTION_NEEDED\":{\"title\":\"Action needed on the provider\",\"description\":\"It seems that the [%{name}](%{link}) website requires you to log in and to do a specific action. Please rerun the connector once you have settled the issue on the website.\"},\"USER_ACTION_NEEDED.OAUTH_OUTDATED\":{\"title\":\"Access refresh required\",\"description\":\"It seems that the [%{name}](%{link}) website requires you to refresh the access you gave to the connector. Please disconnect and reconnect this connector. No data will be lost.\"},\"USER_ACTION_NEEDED.ACCOUNT_REMOVED\":{\"title\":\"Unavailable account\",\"description\":\"It seems that your account is no longer active. Please check your account on [%{name}](%{link}) before retry.\"},\"USER_ACTION_NEEDED.CHANGE_PASSWORD\":{\"title\":\"Password update required\",\"description\":\"It seems that the [%{name}](%{link}) website requires you to log in and update your password. Please rerun the connector once you have settled the issue on the website.\"},\"USER_ACTION_NEEDED.PERMISSIONS_CHANGED\":{\"title\":\"New permissions validation needed\",\"description\":\"You connector was updated and the permissions changed. Please validate them before launching the connector again.\"},\"VENDOR_DOWN\":{\"title\":\"Unavailable service\",\"description\":\"It seems that the [%{name}](%{link}) service is unavailable at the moment. Please rerun the connector later.\"},\"VENDOR_DOWN.BANK_DOWN\":{\"title\":\"Unavailable website\",\"description\":\"It seems that the [%{name}](%{link}) website is unavailable at the moment. Please rerun the connector later.\"},\"VENDOR_DOWN.LINXO_DOWN\":{\"title\":\"Unavailable service\",\"description\":\"It seems that we are experiencing overload with our bank konnectors at the moment. Please rerun the connector later.\"}}},\"intent\":{\"konnector\":{\"install\":{\"error\":{\"message\":\"The konnector cannot be installed\"}}},\"service\":{\"return\":\"Back to connectors list\",\"success\":{\"button\":{\"label\":\"Close\"}},\"error\":{\"initialization\":\"Service failed to initialize. Sorry for the inconvenience.\",\"creation\":\"Unable to create account, an error occurred.\",\"cause\":\"Cause: %{error}\"},\"cancel\":\"Cancel\",\"terminate\":\"Terminate\"}},\"field\":{\"password\":{\"visibility\":{\"hide\":\"Hide\",\"show\":\"Show\",\"title\":{\"hide\":\"Hide password\",\"show\":\"Show password\"}}}},\"nav\":{\"services\":\"My services\"},\"category\":{\"all\":\"All\",\"banking\":\"Banks\",\"health\":\"Health\",\"insurance\":\"Insurance\",\"transport\":\"Transportation\",\"social\":\"Social\",\"isp\":\"ISP\",\"telecom\":\"Telecom\",\"energy\":\"Energy\",\"host_provider\":\"Host\",\"productivity\":\"Productivity\",\"shopping\":\"Shopping\",\"public_service\":\"Public Services\",\"other\":\"Others\"},\"dataType\":{\"none\":\"%{name} won't access any data in your Cozy\",\"activity\":\"Your activities\",\"appointment\":\"Your appointments\",\"bankTransactions\":\"Your bank transactions\",\"bankAccounts\":\"Your bank accounts\",\"bill\":\"Your bills\",\"bloodPressure\":\"Your blood pressure\",\"calendar\":\"Your calendars\",\"certificate\":\"Your certificates\",\"commit\":\"Your commits\",\"consumption\":\"Your consumption\",\"contact\":\"Your contacts\",\"contract\":\"Your contracts\",\"courseMaterial\":\"Your course materials\",\"document\":\"Your documents\",\"event\":\"Your events\",\"family\":\"Your family informations\",\"geopoint\":\"Your geolocations\",\"heartbeat\":\"Your heartbeats\",\"home\":\"Your home informations\",\"phonecommunicationlog\":\"Your phone communications log\",\"podcast\":\"Your podcasts\",\"profile\":\"Your client profile\",\"refund\":\"Your refunds\",\"sinister\":\"Your sinisters\",\"sleepTime\":\"Your sleep time\",\"stepsNumber\":\"Your number of steps\",\"temperature\":\"Your temperature data\",\"travelDate\":\"Your travel dates\",\"tweet\":\"Your tweets\",\"videostream\":\"Your videos\",\"weight\":\"Your weights\"},\"loading\":{\"initial\":\"Loading connectors accounts...\",\"working\":\"Loading\"},\"validation\":{\"exact_length\":\"It's must be made up of %{length} characters exactly.\",\"max_length\":\"The length maximum is %{length} characters.\",\"min_length\":\"It should contain at least %{length} characters.\",\"pattern\":\"The value must match a specific pattern: %{pattern}\"},\"error\":{\"initial\":\"Something went wrong when fetching your connectors and informations. Please refresh the page.\",\"LOGIN_FAILED\":\"Bad credentials. Check the konnector fields and run the connection again.\",\"UNKNOWN_ERROR\":\"Something unexpected happened while running the connector\",\"JOB_TIMEOUT\":\"The connector execution was too long\",\"button\":{\"reload\":\"Refresh now\"}},\"tutorial\":{\"cozy_collect\":{\"title\":\"Automate your data gathering\",\"text\":\"They will be stored in your Cozy, you won't have to look for them anymore.\",\"button\":\"Next\"},\"menu_apps\":{\"title\":\"Your Cozy is so much more than a simple data aggregator\",\"text\":\"Open the Applications menu to discover all the features your Cozy has to offer.\",\"button\":\"Discover my Apps\"}},\"maintenance\":{\"icon\":\"This connector is under maintenance\",\"service\":\"Service interrupted\",\"problem\":\"%{konnectorName} doesn't allow your Cozy to access your data\",\"title\":\"What is going on ?\"},\"connector\":{\"debug\":{\"successMessage\":\"This konnector is for debug purpose only, this is an additionnal custom success message.\"},\"empty\":\"No connectors configured\",\"noAccount\":\"No account\",\"add\":\"Add a service\",\"no-connectors-connected\":\"You have not yet connected connectors\",\"get-info\":\"Get automatically all your informations in your Cozy\",\"connect-account\":\"Connect my accounts\",\"logo\":{\"alt\":\"%{name} logo\"},\"enedis\":{\"description\":{\"service\":\"Recover your Linky data by connecting your Enedis account. You must have a Linky meter and have first created your Enedis account (on the [Enedis website](https://espace-client-connexion.enedis.fr/auth/UI/Login?realm=particuliers). This connector is provided by Fing for the MesInfos project. It retrieves the data from your electricity contract and downloads your electricity consumption the day before. This connector is running on your Cozy and the Fing will have no access to this data.\"}},\"orange\":{\"message\":{\"delay\":\"Once connected, a demand to extract your data will be sent to Orange information system. These data will be available within 15 days. You data will be updated automatically, every 15 days.\"}},\"orangemobile\":{\"description\":{\"connector\":\"In the context of 'MesInfos', Orange allows you to localize your phone regularly.\\n\\n**Data collection needs your express agreement**\\n\\nThis agreement may be revoked at any time by this data connector.\\n\\nBy clicking on \\\"Agree\\\", you give your consent to collect your phone's position, every 30 minutes. Information gathered will on be : \\n<ul><li>Date and time of this location.</li><li>Location data of the closest radio antenna at the time of collect.</li></ul>Collected data by Orange after you agreement will be available only in your Cozy that you have been assigned in context of   Mes Infos . They will be added to location data already stored in call logs.\",\"service\":\"This connector will download data from your Orange account on your Cozy. It will automatically download the call logs from your phone. Thus call logs include your phone number, your corresponding's phone number, date and time of this call and location data of the closest radio antenna at the time of collect.\\n\\nYou will be able to use these data in different apps in your Cozy, for example \\\"Mapping My Life\\\" (available soon on the Cozy Store).\",\"field\":{\"agreement\":\"Do you agree that Orange localizes regularly your phone in context of   Mes Infos  ?\"}}},\"orangevideos\":{\"description\":{\"service\":\"This connector will download data from your Orange account on your Cozy. It will automatically download the list of movies you downloaded in free (TV Replay) or paid VOD from 01/01/2015 (adult contents are not included).\\n\\nYou will be able to use these data in different apps in your Cozy, for example \\\"My Movies Music\\\" (available soon on the Cozy Store).\"}},\"axabanque102\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"banquepopulaire\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"barclays136\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"bforbank97\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"bnpparibas82\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"boursorama83\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"bred\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"caatlantica3\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"caissedepargne1\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"carrefour159\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"casden173\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"cdngroup109\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"cdngroup88\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"cic45\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"cic63\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"comptenickel168\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"creditcooperatif148\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"creditmaritime\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"fortuneo84\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"hellobank145\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"hsbc119\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\",\"connector\":\"The secret answer is [asked by HSBC](https://www.hsbc.fr/1/2/hsbc-france/particuliers/connexion) when you connect without double authentication. Example: what is the name of your pet?\"}},\"ingdirect95\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"labanquepostale44\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"lcl143\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"lcl144\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"lcl146\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"monabanq96\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}},\"societegenerale\":{\"description\":{\"service\":\"The connection to your bank is operated and secured by our partner : Linxo. [Learn more](https://support.cozy.io/article/147-linxo).\"}}},\"Queue\":{\"header\":\"Syncing accounts:\",\"header_mobile\":\"%{done} of %{total}\",\"header_done\":\"Synced %{done} out of %{total}\",\"item\":{\"pending\":\"Pending\"},\"close\":\"Close\"},\"status\":{\"interrupted\":\"INTERRUPTED SERVICE\",\"edf\":{\"maintenance\":\"EDF's information system has changed and the related data access doesn't work anymore. This konnector is not currently able to get back your data from EDF. We are trying to restore the situation and we will notice you when it will be fixed. [Learn more](%{supportLink})\",\"support_link\":\"https://support.cozy.io/article/123-le-connecteur-edf-ne-fonctionne-pas\"}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/en.json\n// module id = ./src/locales/en.json\n// module chunks = 0 1","/* global cozy */\nimport 'babel-polyfill'\nimport 'url-search-params-polyfill'\nimport React from 'react'\nimport { render } from 'react-dom'\nimport { CozyClient, CozyProvider } from 'redux-cozy-client'\n\nimport I18n from 'cozy-ui/react/I18n'\nimport PiwikHashRouter from 'lib/PiwikHashRouter'\n\nimport collectConfig from 'config/collect'\nimport configureStore from 'store/configureStore'\n\nimport 'intro.js/minified/introjs.min.css'\nimport 'styles/index.styl'\n\nconst lang = document.documentElement.getAttribute('lang') || 'en'\nconst context = window.context || 'cozy'\n\nconst handleOAuthResponse = () => {\n  /* global URLSearchParams */\n  const queryParams = new URLSearchParams(window.location.search)\n  if (queryParams.get('account')) {\n    const opener = window.opener\n    const accountKey = queryParams.get('account')\n    const targetOrigin =\n      window.location.origin ||\n      `${window.location.protocol}//${window.location.hostname}${\n        window.location.port ? ':' + window.location.port : ''\n      }`\n    opener.postMessage(\n      {\n        key: accountKey,\n        origin: window.name\n      },\n      targetOrigin\n    )\n    window.close()\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  handleOAuthResponse()\n\n  const root = document.querySelector('[role=application]')\n  const data = root.dataset\n\n  const client = new CozyClient({\n    cozyURL: `//${data.cozyDomain}`,\n    token: data.cozyToken\n  })\n\n  cozy.bar.init({\n    appEditor: data.cozyAppEditor,\n    appName: data.cozyAppName,\n    iconPath: data.cozyIconPath,\n    lang: data.cozyLocale,\n    replaceTitleOnMobile: true\n  })\n\n  // store\n  const store = configureStore(client, context, {\n    lang,\n    ...collectConfig\n  })\n\n  const dictRequire = lang => require(`locales/${lang}`)\n  const App = require('containers/App').default\n\n  render(\n    <CozyProvider store={store} client={client}>\n      <I18n lang={lang} dictRequire={dictRequire} context={context}>\n        <PiwikHashRouter>\n          <App {...collectConfig} />\n        </PiwikHashRouter>\n      </I18n>\n    </CozyProvider>,\n    document.querySelector('[role=application]')\n  )\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/targets/browser/index.jsx"],"sourceRoot":""}